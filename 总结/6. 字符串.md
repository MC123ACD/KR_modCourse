
### 转义符

| 转义符    | 意义                  | ASCII码值（十进制） |
| ------ | ------------------- | ------------ |
| `\n`   | 换行 ，将当前位置移到下一行开头    | 010          |
| `\t`   | 水平制表（缩进，跳到下一个TAB位置） | 009          |
| `\\`   | 代表一个反斜线字符           | 092          |
| `\'`   | 代表一个单引号（撇号）字符       | 039          |
| `\"`   | 代表一个双引号字符           | 034          |
| `\r`   | 回车，将当前位置移到本行开头      | 013          |
| `\0`   | 空字符                 | 000          |
| `\b`   | 退格，将当前位置移到前一列       | 008          |
| `\a`   | 响铃                  | 007          |
| `\f`   | 换页，将当前位置移到下页开头      | 012          |
| `\v`   | 垂直制表                | 011          |
| `\ddd` | 1到3位八进制数所代表的任意字符    | 三位八进制        |
| `\xhh` | 1到2位十六进制所代表的任意字符    | 二位十六进制       |

## 模式匹配修饰符

| 字符类 | 描述 | 等效集合 | 示例匹配 |
|--------|------|----------|----------|
| **`.`** | 匹配**任意单个字符** | 除换行符外的所有字符 | `"a"`, `"1"`, `"@"` |
| **`%a`** | 匹配**字母**（a-z, A-Z） | `[A-Za-z]` | `"a"`, `"Z"` |
| **`%c`** | 匹配**控制字符** | `[\0-\31\127]` | `"\n"`, `"\t"` |
| **`%d`** | 匹配**数字** | `[0-9]` | `"0"`, `"9"` |
| **`%g`** | 匹配**除空格外的可打印字符** | `[!-~]` | `"a"`, `"1"`, `"!"` |
| **`%l`** | 匹配**小写字母** | `[a-z]` | `"a"`, `"z"` |
| **`%p`** | 匹配**标点符号** | `[!-/:-@[-`{-~]` | `"!"`, `"."`, `"@"` |
| **`%s`** | 匹配**空白字符** | `[ \t\n\r\f\v]` | 空格, `"\t"`, `"\n"` |
| **`%u`** | 匹配**大写字母** | `[A-Z]` | `"A"`, `"Z"` |
| **`%w`** | 匹配**字母数字** | `[A-Za-z0-9]` | `"a"`, `"A"`, `"1"` |
| **`%x`** | 匹配**十六进制数字** | `[0-9A-Fa-f]` | `"0"`, `"a"`, `"F"` |
| **`%z`** | 匹配**零字符**（\0） | `\0` | `"\0"` |

### 大写形式（补集）

| 大写类 | 描述 | 等效于 | 示例匹配 |
|--------|------|--------|----------|
| **`%A`** | 匹配**非字母** | `[^%a]` | `"1"`, `"!"`, `" "` |
| **`%C`** | 匹配**非控制字符** | `[^%c]` | `"a"`, `"1"`, `" "` |
| **`%D`** | 匹配**非数字** | `[^%d]` | `"a"`, `"!"`, `" "` |
| **`%G`** | 匹配**空格和不可打印字符** | `[^%g]` | `" "`, `"\t"`, `"\0"` |
| **`%L`** | 匹配**非小写字母** | `[^%l]` | `"A"`, `"1"`, `"!"` |
| **`%P`** | 匹配**非标点符号** | `[^%p]` | `"a"`, `"1"`, `" "` |
| **`%S`** | 匹配**非空白字符** | `[^%s]` | `"a"`, `"1"`, `"!"` |
| **`%U`** | 匹配**非大写字母** | `[^%u]` | `"a"`, `"1"`, `"!"` |
| **`%W`** | 匹配**非字母数字** | `[^%w]` | `"!"`, `"@"`, `" "` |
| **`%X`** | 匹配**非十六进制数字** | `[^%x]` | `"g"`, `"z"`, `"!"` |

### 特殊字符

| 字符 | 描述 | 转义写法 | 示例 |
|------|------|----------|------|
| **`^`** | 匹配字符串**开始** | `%^` | `"^Hello"` |
| **`$`** | 匹配字符串**结束** | `%$` | `"end$"` |
| **`(` `)`** | 捕获分组 | `%(` `%)` | `"(abc)"` |
| **`.`** | 匹配任意字符 | `%.` | `"file.txt"` |
| **`%`** | 转义字符 | `%%` | `"50%"` |
| **`+`** | 重复 1 次或多次 | `%+` | `"a+b"` |
| **`-`** | 重复 0 次或多次（惰性） | `%-` | `"a-b"` |
| **`*`** | 重复 0 次或多次 | `%*` | `"a*b"` |
| **`?`** | 重复 0 次或 1 次 | `%?` | `"a?b"` |
| **`[` `]`** | 字符集 | `%[` `%]` | `"[abc]"` |
| **`{` `}`** | 重复次数 | `%{` `%}` | `"a{3}"` |

### 重复修饰符

| 限定符         | 描述         | 示例        | 匹配结果                 |
| ----------- | ---------- | --------- | -------------------- |
| **`*`**     | 0 次或多次（贪婪） | `%d*`     | `""`, `"1"`, `"123"` |
| **`+`**     | 1 次或多次（贪婪） | `%d+`     | `"1"`, `"123"`       |
| **`-`**     | 0 次或多次（惰性） | `%d-`     | 最短匹配                 |
| **`?`**     | 0 次或 1 次   | `%d?`     | `""`, `"1"`          |

### 字符集语法

| 语法 | 描述 | 示例 | 匹配 |
|------|------|------|------|
| **`[...]`** | 匹配字符集中的**任意一个** | `[aeiou]` | `"a"`, `"e"` |
| **`[^...]`** | 匹配**不在**字符集中的字符 | `[^0-9]` | `"a"`, `"!"` |
| **`x-y`** | 字符范围 | `[a-z]` | 所有小写字母 |
| **`%x`** | 在字符集中表示普通字符 | `[%%%+]` | `"%"` 或 `"+"` |

### 特殊模式项

| 模式项           | 描述          | 示例       | 等价写法       |
| ------------- | ----------- | -------- | ---------- |
| **`%bxy`**    | 平衡匹配        | `%b()`   | `(.*)`     |
| **`%f[...]`** | 前置边界        | `%f[%a]` | 匹配单词边界     |
| **`%n`**      | 捕获引用（n=1-9） | `%1`     | 引用第 n 个捕获组 |

## 格式化修饰符

| 修饰符             | 说明                      | 示例代码（f = string.format） | 输出结果             |
| --------------- | ----------------------- | ----------------------- | ---------------- |
| **`%d` / `%i`** | 十进制整数                   | `f("%d", 456)`          | `"456"`          |
| **`%o`**        | 八进制整数                   | `f("%o", 64)`           | `"100"`          |
| **`%x`**        | 小写十六进制整数                | `f("%x", 255)`          | `"ff"`           |
| **`%X`**        | 大写十六进制整数                | `f("%X", 255)`          | `"FF"`           |
| **`%u`**        | 无符号十进制整数                | `f("%u", 100)`          | `"100"`          |
| **`%f`**        | 浮点数（默认小数精度 6 位）         | `f("%f", 3.14)`         | `"3.140000"`     |
| `%.nf`          | 小数精度                    | `f("%.2f", 3.14159)`    | `"3.14"`         |
| `%0nd`          | 前导零                     | `f("%05d", 12)`         | `"00012"`        |
| `%+d`           | 正负号（总是显示符号）             | `f("%+d", 25)`          | `"+25"`          |
| **`%e`**        | 科学计数法（小写 e）             | `f("%e", 1000)`         | `"1.000000e+03"` |
| **`%E`**        | 科学计数法（大写 E）             | `f("%E", 1000)`         | `"1.000000E+03"` |
| **`%g`**        | 智能选择 `%f` 或 `%e`（较短的格式） | `f("%g", 1000000)`      | `"1e+06"`        |
| **`%G`**        | 智能选择 `%f` 或 `%E`（较短的格式） | `f("%G", 1000000)`      | `"1E+06"`        |
| **`%s`**        | 字符串                     | `f("%s", "hello")`      | `"hello"`        |
| **`%q`**        | 带引号和转义的字符串（安全格式）        | `f("%q", 'say "hi"')`   | `'"say \"hi\""'` |
| **`%%`**        | 百分号本身                   | `f("%d%%", 50)`         | `"50%"`          |
| `%nd`           | 右对齐（宽度）                 | `f("%5d", 12)`          | `"   12"`        |
| `%-nd`          | 左对齐                     | `f("%-5d", 12)`         | `"12   "`        |
| `%n.nf`         | 组合使用宽度+精度               | `f("%8.2f", 3.14159)`   | `"    3.14"`     |
| `% d`           | 空格填充                    | `f("% d", 25)`          | `" 25"`          |
| `%#x`           | 十六进制前缀（添加 0x 前缀）        | `f("%#x", 255)`         | `"0xff"`         |
| `%#o`           | 八进制前缀（添加 0 前缀）          | `f("%#o", 64)`          | `"0100"`         |

## 操作函数
### 匹配与搜索
#### 1. 搜索字符串返回索引
```lua
string.find(
	字符串: str,
	查找的字符串: str,
	搜索位置?: int,
	是否禁用正则模式?: bool
) -> 起始索引: int, 结束索引: int
```

#### 2. 匹配单个模式
```lua
string.match(字符串: str, 匹配模式: pattern, 起始位置?: init) -> 匹配结果: str
```

#### 3. 匹配多个模式
```lua
string.gmatch(字符串: str, 匹配模式: str) -> 迭代器函数: func
```
- 将所有匹配模式打包为迭代器函数

#### 4. 匹配并替换
```lua
string.gsub(字符串: str, 匹配模式: str, 替换为: str, 替换次数?: int) -> 替换后的字符串: str, 替换次数: int
```
- 默认替换所有匹配字符串

### 字符码
#### 1. 字符码转换为字符串
```lua
string.char(字符码: int, ...) -> 字符串: str
```
- 使用 ASCII 码

#### 2. 字符串转换为字符码
```lua
string.byte(字符串: str, 位置?: int) -> 字符码: int
```
- 使用 ASCII 码

### 杂项
#### 1. 全转换大写字母
```lua
string.upper(字符串: str) -> 全大写字符串: str
```

#### 2. 全转换小写字母
```lua
string.lower(字符串: str) -> 全小写字符串: str
```

#### 3. 截取字符串
```lua
string.sub(字符串: str, 截取起始索引: int, 截取结束索引?: int) -> 截取到的字符串: str
```
- 不指定截取结束索引，默认截取到字符串末尾

#### 4. 反转字符串
```lua
string.reverse(字符串: str) -> 反转后的字符串: str
```

#### 5. 格式化字符串
```lua
string.format(被格式化的字符串: str, 值: str, ...) -> 格式化后的字符串: str
```

#### 6. 统计字符串长度
```lua
string.len(字符串: str) -> 长度: int
```

#### 7. 字符串重复
```lua
string.rep(字符串: str, 重复次数: int) -> 重复后的字符串: str
```