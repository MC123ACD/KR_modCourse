# 波次数据
波次的所有数据存储于 `kr/data/waves` 中

**其中**：
1. `_campaign` 为战役模式（1）
2. `_heroic` 为英雄模式（2）
3. `_iron` 为钢铁模式（3）

## 结构：
注：时间单位为游戏帧
```lua
cash = int,		-- 初始金币
groups = {		-- 所有波次
	{			-- 第 1 波
		interval = num,			-- 下一波到来时间
		waves = {				-- 出怪组
			{					-- 第 1 组
				delay = num,	-- 延迟
				path_index = int,-- 出怪路径
				spawns = {		-- 生成的怪物
					{			-- 怪物 1
						interval = num,		-- 生成间隔
						creep = str,		-- 怪物模板名
						creep_aux = str,	-- 交替的怪物，每次出 max_same 数量的怪后交替出这个怪
						max_same = int,		-- 每次交替出怪数量
						max = int,			-- 出怪总数量，包含交替的怪物
						fixed_sub_path = int,	-- 出怪子路径，0 为随机
						interval_next = num	-- 出下一个怪物的延迟
					},
					-- 怪物 2...
				}
			},
			-- 第 2 组...
		}
	},
	-- 第 2 波...
}
```

# 修改出怪
##### 1. 写出怪
由于出怪的表不易于查看修改，推荐使用附件的波次生成脚本修改
![[Pasted image 20250828164236.png|750]]
- 所有出怪组都是并发的，使用出怪组延迟控制
- 出怪组一般用于多个怪物组合进攻与进攻不同路径
- 交替出怪用于两个怪物轮流进攻
- 每个组的怪物只有前一个出完才会出下一个

##### 2. 修改完毕保存：
![[Pasted image 20250828164839.png|550]]
数字改成你修改的关卡编号，然后直接替换波次数据即可

##### 3 . 加载资源
没有加载对应怪的资源将会导致怪物透明

在关卡数据的 `required_textures` 键增加对应资源即可
```lua
required_textures = {
	"go_enemies...",
	...
}
```
图像资源基本都在 `_assets/kr-desktop/images/fullhd` 内

注：有些实体的资源在关卡资源内

