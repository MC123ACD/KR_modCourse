# 移植防御塔
已前三代移植五代为例

## 一、复制模板
##### 1. 搜索模板
在五代目录搜索要移植的实体的模板

##### 2. 复制模板
将所有与此实体相关的模板从五代复制到前三代 `game_templates` 内

注：这些模板可能在不同位置，务必将这些都复制过去，而不是搜索后仅复制一部分

## 二、复制函数
## 三、处理美术资源
## 四、增加到建造界面
## 五、必要调整

# 移植英雄

# 移植关卡

### 锚点
##### 1. 测量得到锚点位置
通常敌人与单位的锚点位于脚下
![[Pasted image 20251120103043.png|475]]
如图锚点（红点）位置 [160, 183]
图像大小 320x211

##### 2. 计算锚点相当于图像的位置
1. X 轴相对位置：`160 / 320 = 0.5`
2. Y 轴相对位置：`1 - 183 / 211 ≈ 0.133`
综上 `anchor = v(0.5, 0.133)`

##### Q&A
- Q：为什么 Y 轴相对位置是 1 与原 Y 轴相对位置之差
- A：这是因为 love2d 坐标系原点在左上角，而图像坐标系原点在左下角，所以需要反转