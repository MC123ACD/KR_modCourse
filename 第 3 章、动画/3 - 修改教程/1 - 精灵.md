# (一) 修改精灵
## 一、基础数据
在模板的 `tt.render.sprites` 就是精灵了，修改精灵的一些键即可做到修改基础数据

##### 如何知道有哪些数据键：
还是与之前相同，搜索 `E:add_comps` 的组件或 `E:register_t` 的底模板，由于套娃过多不进行赘叙，只需要搜索 `sprite` 组件即可

##### 一些基础键：

| <center>键</center> | <center>作用</center> | <center>键值</center>           |
| ------------------ | ------------------- | ----------------------------- |
| `name`             | 播放的动画名称             | 字符串                           |
| `prefix`           | 动画名称前缀              | 字符串                           |
| `scale`            | 大小                  | `x 比例，y 比例`                   |
| `alpha`            | 不透明度                | `0 ~ 255`                     |
| `flip_x`           | 水平镜像                | 布尔值                           |
| `hidden`           | 隐藏精灵                | 布尔值                           |
| `fps`              | 动画速度                | 数字                            |
| `r`                | 角度                  | 弧度，自行使用函数 `d * math.pi / 180` |
| `z`                | 图层                  | 数字，详见 [[2 - 常量#六、图层]]         |

# (二) 修改补间动画
## 一、基础补间动画
##### 一些基础键：
注：补间原理还是通过修改精灵的各种键来实现的

| <center>键</center>   | <center>作用</center>        | <center>键值</center> |
| -------------------- | -------------------------- | ------------------- |
| `remove`             | 播放后移除当前实体                  | 布尔值                 |
| `reverse`            | 倒放                         | 布尔值                 |
| `disabled`           | 禁用                         | 布尔值                 |
| `run_once`           | 播放一次后禁用                    | 布尔值                 |
| `props[n].name`      | 补间修改的精灵键                   | 字符串                 |
| `props[n].disabled`  | 单独禁用                       | 布尔值                 |
| `props[n].loop`      | 循环播放，需要禁用播放后移除当前实体或播放一次后禁用 | 布尔值                 |
| `props[n].interp`    | 使用的插值函数，默认匀速插值             | 字符串                 |
| `props[n].sprite_id` | 补间的精灵                      | 数字/表                |

| <center>插值函数</center> | <center>效果</center> | <center>示例</center> |
| --------------------- | ------------------- | ------------------- |
| `linear`              | 匀速                  | 机械运动                |
| `quad`                | 加速/减速               | 实现弹跳效果              |
| `sine`                | 平滑进出                | 柔和动画                |

### (二) 使精灵循环淡出淡入
##### 1. 找到对应实体模板

##### 2. 增加补间动画
```lua
E:add_comps(tt, "tween")	-- 增加组件
-- tt.tween.props[1] = E:clone_c("tween_prop")	-- 因为 tween 组件默认会进行这一步可以省略

tt.tween.props[1].keys = {
	{
		0,	-- 默认透明度 0
		255
	},
	{
		1,	-- 1 秒时完全淡出
		0
	},
	{
		2,	-- 2 秒时完全淡入
		255
	}
}
tt.tween.props[1].sprite_id = {	-- 补间的精灵，可以直接用数字或表
	1,
	2,
	...
}
tt.tween.remove = false	-- 禁用播放后移除
tt.tween.props[1].loop = true	-- 循环播放
```

#### {二} 更新函数内控制
```lua
-- 模板内
tt.tween.disabled = true	-- 默认禁用

-- 更新函数内
while true do
	...
	if 特定条件 then
		this.tween.disabled = nil	-- 特定条件下取消禁用
	else
		this.tween.disabled = true	-- 非特定条件禁用
		
		for i = 1, 3 do	-- 假设 sprite_id 键的键值是表 {1, 2, 3}
			this.render.sprites[i].alpha = 255	-- 让补间的对应精灵的键重回默认值即可，假设是透明度
		end
	end
	...
end
```